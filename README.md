### Саммаризатор
Из длинного разговора в короткое саммари

Факт обо мне. Для прокачки флюента английского я с некоторой периодичностью слушаю подкасты тут [BBC](https://www.bbc.co.uk/programmes/w3ct3bxl). Но вдруг я пропустила что-то важное? Дотошность или педантизм, или профессиональная деформация, можно называть по-разному. 
В общем написала скрипт, который переводит аудиофайл mp4 в текст с помощью [SpeechRecognition](https://github.com/Uberi/speech_recognition/tree/master) и затем делает саммари из текста с помощью API [OpenAI](https://openai.com/). Вдруг кому-то тоже интересно - исходники и подробное описание [тут](https://github.com/MariaKudryashova/V2T-Summarizer/tree/main)

### Алгоритм:
1. В директорию со скриптом сохраняем анализируемый аудио файл под именем `input.mp4`
2. Устанавливаем и активируем виртуальное окружение:
`python -m venv myenv`
Windows: `myenv\Scripts\activate`
Unix: `source myenv/bin/activate`
3. Устанавливаем необходимые библиотеки:
`pip install -r requirements.txt`
4. Подключаем [API OpenAI](https://platform.openai.com/docs/quickstart). Можно токены подключать под каждый проект, а можно разово на систему. Я шла по второму пути.
5. Запускаем скрипт `python v2t.py ru-Ru` или `python v2t.py en-US`
смотря на каком языке аудиофайл.
6. На выходе имеем два файла:
`result.txt` - в целом весь аудио в виде текста
`summary.txt` - саммари текста

### Инструменты: 
- [Speech Recognition](https://realpython.com/python-speech-recognition/). Распознает речь и переводит ее в текст. Используется сейчас повсеместно для людей с ограниченными возможностями, для умных домов и программируемых устройств. Под капотом модели - модель Марковских случайных процессов. Суть работы в предположении, что речевой сигнал это некоторый дискретный стационарный процесс, который бьется на равные фрагменты (обычно это 10-миллисекундные интервалы), обрабатывается специальным образом и затем полученные на выходе вектора сопоставляются с фонемами (единицами) речи. Сложность обработки заключается в индивидуальности произношения речи, в оптимизации фрагментов, где есть значимые звуки, а где шумы, в сокращении значимых признаков фонемы и упрощению обработки. Для всего этого используются различные нейросетевые модели классификации, где в итоге определяется наиболее вероятное слово, которое образуется полученной из фрагментов последовательности фонем.

- [OpenAI](https://platform.openai.com/docs/models). Многофункциональные нейросетевые модели: это и речевые диалоговые системы, и создание и обработка изображений по текстовому описанию, и обработка изображений и видео. У меня в скрипте используется `gpt-3.5-turbo`.

- [pydub](http://pydub.com/). Работа с аудио файлами: нарезка, соединение, изменение громкости, наложение эффектов, конвертация аудиофайлов между различными форматами, эта библиотека - обвязка вокруг `ffmpeg`. Вообще питон предлагает большое количество разнообразных библиотек по работе с аудио файлами, подробно можно почитать [тут](https://wiki.python.org/moin/Audio/)

- [moviepy](https://pypi.org/project/moviepy/). Работа с видео и аудио файлами, извлечение аудио из видео и синхронизация аудиофайлов, создание анимаций и прочее.

### Планы для еще больших лентяев:
- можно заставить скрипт самому ходить по ссылкам и скачивать нужные файлы с аудиодорожками в нужном формате (с помощью Selenium)
- можно потренировать ChatGPT под себя, подкрутить настройки, чтобы он акцентировал внимание на нужные именно мне детали, подавал саммари в нужном мне стиле
- ну и вообще этот скрипт можно прикрутить к своему сайту/телеграмм боту и другому сервису в концепте "одной кнопки"
- можно пооптимизировать саммаризацию, сделать несколько подходов к ней для слишком больших текстов, поиграть с размерами единичных блоков аудио и текста
- поиграть с кодеками и видами входных видео и аудио файлов (mp3, mp4, wmv, ogg) и автоматизировать процесс выбора и обработки каждого из этих видов файлов.
- навести красоту с обработкой ошибок

